<div class="metronome-container">
  <h1>üéµ –ú–µ—Ç—Ä–æ–Ω–æ–º</h1>

  <!-- –û—Å–Ω–æ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è -->
  <div class="main-controls">
    <app-tempo-display [tempo]="metronomeState().currentTempo" />

    <app-play-controls [isPlaying]="metronomeState().isPlaying"
                       (toggle)="onToggleMetronome()"
                       (stop)="onStopMetronome()" />
  </div>

  <!-- –°–ª–∞–π–¥–µ—Ä —Ç–µ–º–ø—É -->
  <div class="tempo-slider">
    <label>–¢–µ–º–ø: {{ metronomeState().currentTempo }} BPM</label>
    <input type="range"
           min="40"
           max="200"
           [value]="metronomeState().currentTempo"
           (input)="onTempoChange($event)"
           class="slider">
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ–º–ø—É -->
  <app-tempo-presets (tempoSelect)="onTempoSelect($event)" />

  <!-- –°—Ü–µ–Ω–∞—Ä—ñ—ó -->
  <div class="scenarios">
    <h3>–°—Ü–µ–Ω–∞—Ä—ñ—ó</h3>

    <app-scenario-runner [scenarios]="scenarioState().scenarios"
                         [selectedScenarioId]="scenarioState().selectedScenarioId"
                         [scenarioRunning]="scenarioState().scenarioRunning"
                         [currentScenario]="scenarioState().currentScenario"
                         [currentStep]="scenarioService.currentStep()"
                         [currentStepIndex]="scenarioState().currentStepIndex"
                         [stepTimeRemaining]="scenarioState().stepTimeRemaining"
                         [stepProgress]="scenarioService.stepProgress()"
                         (scenarioSelect)="onScenarioSelect($event)"
                         (start)="onStartScenario($event)"
                         (stop)="onStopScenario()" />

    <app-scenario-editor (scenarioSave)="onScenarioSave($event)" />

    <!-- –°–ø–∏—Å–æ–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ -->
    <div class="saved-scenarios">
      <h4>–ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:</h4>
      <div *ngFor="let scenario of scenarioState().scenarios"
           class="scenario-item">
        <div class="scenario-details">
          <strong>{{ scenario.name }}</strong>
          <small>({{ scenario.steps.length }} –∫—Ä–æ–∫—ñ–≤)</small>
        </div>
        <button class="delete-btn"
                (click)="onDeleteScenario(scenario.id)">üóëÔ∏è</button>
      </div>
    </div>
  </div>

  <!-- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–≤—É–∫—É -->
  <div class="sound-settings">
    <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–≤—É–∫—É</h3>
    <div class="volume-control">
      <label>–ì—É—á–Ω—ñ—Å—Ç—å: {{ metronomeState().volume }}%</label>
      <input type="range"
             min="0"
             max="100"
             [value]="metronomeState().volume"
             (input)="onVolumeChange($event)"
             class="slider">
    </div>
  </div>
</div>